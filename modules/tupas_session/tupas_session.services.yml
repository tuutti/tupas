services:
  tupas_session.session_manager:
    class: Drupal\tupas_session\TupasSessionManager
    arguments: ["@config.factory", "@tupas_session.session", "@entity.manager"]

  tupas_session.session:
    class: Drupal\tupas_session\TupasSession
    arguments: ["@database"]

  tupas_session.expiration_subscriber:
    class: Drupal\tupas_session\EventSubscriber\TupasExpirationSubscriber
    arguments: ["@tupas_session.session_manager", "@current_user", "@config.factory"]
    tags:
      - { name: event_subscriber }
